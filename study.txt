# 인증과 인가

- 인증 : 사용자 유효성 검증
- 인가 : 사용자의 권한 체크

[인증을 구현하는 방식]
- 세션 방식 : 세션 객체를 통해 처리 
    - 사용자들의 상태를 관리할 수 있다는 장점이 있음
    - 메모리를 과하게 가지고 있는 단점이 있을 수 있다.
    - 매번 세션을 조회하기 때문에, 동시접속사가 많으면 부담이 있을 수 있다.

- 토큰 방식 : 토큰을 이용해 처리
    - JWT (JSON WEB TOKEN) 
        - HEADER { 암호화 알고리즘, 토큰의 타입 } => 인코딩
        - PAYLOAD { 사용자 닉네임, 인증 요청 시간 등..} => 인코딩
        - SIGNATURE => HEADER + PAYLOAD 합쳐서 암호화
    
    - 데이터 베이스 조회 필요 X 
    - 사용자들의 상태를 관리할 수 없음
    - 토큰 탈취 시에도 서버의 대응이 불가하다 그래서
        Access Token : 토큰의 유효기간을 설정한다
        Refresh Token : 유효기간 설정 2주 ~ 1달

# 소셜 로그인
- 타 서비스에 연동해서 로그인하는 것
- OAuth = 열린 인가 (권한을 목적으로 한 프로토콜로 만들어졌음)
- 잘만들어져서 인증에 활용되는 것 

# 에러 핸드링 
  - 에러의 경로를 파악한다.
  - 비즈니스 로직 : 커스텀 훅 사용
  - UI 관련 로직 : 컴포넌트에 추가

# 비밀번호 찾기
  - 버튼 누르기 
  - 발송 메일 
    -  token : 일회용 인증 토큰 
    -  type : recovery
    -  redirect_to : 재설정 페이지 주소

# 이미지 저장 방식
  - 이미지를 그대로 저장하기엔 평균적인 데이터보다 용량이 커 Storage라는 공간에 따로 저장한다.
    Stroage 
      - 이미지, 동영상 등 파일 보관소 
      - 고유 URL 생성
  - 사용자 > Stroage로 업로드 
  - Stroage > 사용자로 이미지 URL 발송
  - 사용자 > 데이터 베이스로 해당 이미지 URL 저장 요청 {user_id}/{post_id}/image.png

# 무한 스크롤 
- Step1 : 스크롤 하단 감지
  - 감지를 위한 Div 태그 생성 
  - 인터섹션 옵저버 
  - 감지 시 이벤트 핸들러 실행

- Step2 : 데이터 추가
  - useInfiniteQuery 사용 
  - 무한 스크롤을 위한 Hooks
  - tanstack/reack-query에서 제공

